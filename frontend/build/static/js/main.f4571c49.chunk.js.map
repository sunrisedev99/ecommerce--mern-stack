{"version":3,"sources":["constants/userConstants.js","constants/orderConstants.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Paginate.js","components/Loader.js","components/Message.js","constants/productConstants.js","actions/productActions.js","components/ProductCarousel.js","components/Meta.js","pages/HomePage.js","components/ImageMagnifier.js","actions/orderActions.js","pages/ProductPage.js","constants/cartConstants.js","actions/cartActions.js","pages/CartPage.js","components/FormContainer.js","assets/googleLogo.png","assets/twitterLogo.png","components/SocialLoginOptions.js","assets/githubLogo.png","assets/linkedinLogo.png","pages/LoginPage.js","pages/RegisterPage.js","pages/ProfilePage.js","pages/ConfirmPage.js","components/CheckoutStatus.js","pages/ShippingPage.js","pages/PaymentPage.js","pages/PlaceOrderPage.js","components/CheckoutForm.js","pages/OrderPage.js","pages/PasswordResetPage.js","pages/UserListPage.js","pages/UserEditPage.js","pages/ProductListPage.js","pages/ProductEditPage.js","pages/OrderListPage.js","App.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","serviceWorkerRegistration.js","index.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGIN_REFRESH_REQUEST","USER_LOGIN_REFRESH_SUCCESS","USER_LOGIN_REFRESH_FAILURE","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_RESET_PASSWORD_REQUEST","USER_RESET_PASSWORD_SUCCESS","USER_RESET_PASSWORD_FAILURE","USER_EMAIL_VERIFICATION_REQUEST","USER_EMAIL_VERIFICATION_SUCCESS","USER_EMAIL_VERIFICATION_FAILURE","USER_CONFIRM_REQUEST","USER_CONFIRM_SUCCESS","USER_CONFIRM_FAILURE","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAILURE","USER_DETAILS_RESET","USER_PROFILE_UPDATE_REQUEST","USER_PROFILE_UPDATE_SUCCESS","USER_PROFILE_UPDATE_FAILURE","USER_PROFILE_UPDATE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAILURE","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILURE","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAILURE","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAILURE","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAILURE","ORDER_PAY_RESET","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAILURE","ORDER_DELIVER_RESET","ORDER_USER_LIST_REQUEST","ORDER_USER_LIST_SUCCESS","ORDER_USER_LIST_FAILURE","ORDER_USER_LIST_RESET","ORDER_ALL_LIST_REQUEST","ORDER_ALL_LIST_SUCCESS","ORDER_ALL_LIST_FAILURE","refreshLogin","email","dispatch","getState","a","type","userInfo","userLogin","isSocialLogin","payload","config","headers","axios","post","token","refreshToken","data","success","updatedUser","accessToken","localStorage","setItem","JSON","stringify","removeItem","response","message","getUserDetails","id","Authorization","get","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","className","Control","name","onChange","target","value","placeholder","Button","size","variant","Header","useDispatch","useSelector","state","cart","cartItems","show1","setShow1","show2","setShow2","count","setCount","useEffect","reduce","acc","item","qty","style","display","minWidth","height","zIndex","position","onClick","Navbar","bg","expand","collapseOnSelect","Container","maxWidth","to","Brand","Toggle","aria-controls","Collapse","render","Nav","Link","fontSize","isAdmin","NavDropdown","title","show","Item","alignItems","marginLeft","src","avatar","alt","window","location","href","Footer","justifyContent","marginRight","marginBottom","rel","Rating","text","color","map","ele","idx","defaultProps","Product","product","Card","_id","Img","image","Body","textDecoration","Title","as","minHeight","Text","rating","numReviews","price","toFixed","Paginate","pages","page","forOrders","Pagination","Array","keys","active","Number","Loader","Spinner","animation","role","width","margin","Message","duration","children","visible","setVisible","setTimeout","Alert","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAILURE","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILURE","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAILURE","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAILURE","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAILURE","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAILURE","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_RATED_REQUEST","PRODUCT_TOP_RATED_SUCCESS","PRODUCT_TOP_RATED_FAILURE","listProducts","pageNumber","pageSize","listProductDetails","ProductCarousel","productTopRated","error","loading","products","Carousel","marginTop","pause","indicators","interval","CarouselItem","Image","fluid","Caption","Meta","description","keywords","content","HomePage","match","params","productList","promptVerfication","setPromptVerification","userInfoError","userDetails","user","parse","getItem","Row","length","Col","sm","md","lg","xl","ImageMagnifier","magnifierHeight","magnifieWidth","zoomLevel","x","y","setXY","imgWidth","imgHeight","setSize","showMagnifier","setShowMagnifier","onMouseEnter","currentTarget","getBoundingClientRect","onMouseMove","top","left","pageX","pageXOffset","pageY","pageYOffset","onMouseLeave","pointerEvents","opacity","border","backgroundColor","backgroundImage","backgroundRepeat","borderRadius","backgroundSize","backgroundPositionX","backgroundPositionY","payOrder","orderID","paymentResult","put","listMyOrders","ProductPage","quantity","setQuantity","setRating","review","setReview","hasOrderedItem","setHasOrderedItem","showReviewForm","setShowReviewForm","productDetails","userLoginError","productCreateReview","loadingCreateReview","successCreateReview","errorCreateReview","orders","orderListUser","alert","reviews","flag","obj","orderItems","toString","ListGroup","countInStock","disabled","date","createdAt","Date","toLocaleTimeString","timeStyle","hour12","timeZone","toLocaleDateString","year","month","day","productID","createProductReview","Group","controlId","default","FloatingLabel","label","row","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_RESET","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addItem","console","savePaymentMethod","log","CartPage","totalItems","setTotalItems","search","split","handleRemoveFromCart","rounded","ButtonGroup","aria-label","outline","borderRight","borderLeft","FormContainer","xs","SocialLoginOptions","padding","flexFlow","fontWeight","fleFlow","objectFit","googleLogo","twitterLogo","LoginPage","showRedirectMsg","setShowRedirectMsg","forgotPassword","setForgotPassword","showLoading","setShowLoading","emailSent","setEmailSent","setType","setEmail","password","setPassword","redirect","storedInfo","includes","queries","isSuccess","then","userData","isConfirmed","handleEmailSubmit","background","boxShadow","WebkitBoxShadow","MozBoxShadow","cursor","loginUser","required","InputGroup","stopPropagation","RegisterPage","typePassword","setTypePassword","typeConfirmPassword","setTypeConfirmPassword","setName","confirmPassword","setConfirmPassword","setMessage","userRegister","registerUser","ProfilePage","inputFile","useRef","showSubmitButton","setShowSubmitButton","setAvatar","setUploading","errorImageUpload","setErrorImageUpload","userProfileUpdate","loadingOrdersList","errorOrdersList","userSendEmailVerfication","hasError","getDateString","handleImageUpload","file","files","formData","FormData","append","focus","sendVerficationEmail","alignSelf","current","click","ref","isSocial","updateUserProfile","Table","striped","bordered","responsive","order","textAlign","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","ConfirmPage","userConfirm","isLoggedIn","setIsLoggedIn","emailToken","alreadyLoggedIn","confirmUser","CheckoutStatus","step1","step2","step3","step4","ShippingPage","shippingAddress","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentPage","paymentMethod","setPaymentMethod","handleChange","Check","inline","checked","PlaceOrderPage","orderCreate","itemsPrice","shippingPrice","taxPrice","createOrder","CheckoutForm","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","getClientSecret","makePayment","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","paymentMode","reload","options","base","invalid","OrderPage","stripePromise","loadStripe","process","SDKReady","setSDKReady","orderDetails","orderPay","loadingPay","successPay","orderDeliver","loadingDeliver","successDeliver","getOrderDetails","addScript","clientID","script","document","createElement","async","onload","body","appendChild","shape","layout","currency","amount","onSuccess","deliverOrder","PasswordResetPage","userResetPassword","resetPassword","nameFromLocalStorage","passwordToken","resetUserPassword","paddingLeft","UserListPage","userList","users","successDelete","userDelete","handleDelete","confirm","delete","deleteUser","UserEditPage","userId","setIsAdmin","userUpdate","loadingUpdate","errorUpdate","successUpdate","newUserInfo","updateUser","Label","ProductListPage","productDelete","loadingDelete","errorDelete","productCreate","loadingCreate","successCreate","errorCreate","createdProduct","deleteProduct","category","brand","ProductEditPage","productId","setBrand","setCategory","setDescription","setImage","setPrice","setCountInStock","uploading","productUpdate","handleFileUpload","updateProduct","min","max","step","orderListAll","listAllOrders","App","path","component","exact","OrderListPage","reducer","combineReducers","action","existingItem","find","filter","userLoginRefresh","tokenInfo","isLoading","cartItemsFromLocalStorage","userInfoFromLocalStorage","shippingAddressFromLocalStorage","tokenInfoFromLocalStoage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","Boolean","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.f4571c49.chunk.js","sourcesContent":["export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE';\r\nexport const USER_LOGIN_REFRESH_REQUEST = 'USER_LOGIN_REFRESH_REQUEST';\r\nexport const USER_LOGIN_REFRESH_SUCCESS = 'USER_LOGIN_REFRESH_SUCCESS';\r\nexport const USER_LOGIN_REFRESH_FAILURE = 'USER_LOGIN_REFRESH_FAILURE';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAILURE = 'USER_REGISTER_FAILURE';\r\n\r\nexport const USER_RESET_PASSWORD_REQUEST = 'USER_RESET_PASSWORD_REQUEST';\r\nexport const USER_RESET_PASSWORD_SUCCESS = 'USER_RESET_PASSWORD_SUCCESS';\r\nexport const USER_RESET_PASSWORD_FAILURE = 'USER_RESET_PASSWORD_FAILURE';\r\n\r\n// To send the email verification link\r\nexport const USER_EMAIL_VERIFICATION_REQUEST =\r\n\t'USER_EMAIL_VERIFICATION_REQUEST';\r\nexport const USER_EMAIL_VERIFICATION_SUCCESS =\r\n\t'USER_EMAIL_VERIFICATION_SUCCESS';\r\nexport const USER_EMAIL_VERIFICATION_FAILURE =\r\n\t'USER_EMAIL_VERIFICATION_FAILURE';\r\n\r\n// To actually verify the email token and confirm the user email\r\nexport const USER_CONFIRM_REQUEST = 'USER_CONFIRM_REQUEST';\r\nexport const USER_CONFIRM_SUCCESS = 'USER_CONFIRM_SUCCESS';\r\nexport const USER_CONFIRM_FAILURE = 'USER_CONFIRM_FAILURE';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAILURE = 'USER_DETAILS_FAILURE';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_PROFILE_UPDATE_REQUEST = 'USER_PROFILE_UPDATE_REQUEST';\r\nexport const USER_PROFILE_UPDATE_SUCCESS = 'USER_PROFILE_UPDATE_SUCCESS';\r\nexport const USER_PROFILE_UPDATE_FAILURE = 'USER_PROFILE_UPDATE_FAILURE';\r\nexport const USER_PROFILE_UPDATE_RESET = 'USER_PROFILE_UPDATE_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAILURE = 'USER_LIST_FAILURE';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAILURE = 'USER_DELETE_FAILURE';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAILURE = 'USER_UPDATE_FAILURE';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAILURE = 'ORDER_CREATE_FAILURE';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAILURE = 'ORDER_DETAILS_FAILURE';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAILURE = 'ORDER_PAY_FAILURE';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAILURE = 'ORDER_DELIVER_FAILURE';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n\r\nexport const ORDER_USER_LIST_REQUEST = 'ORDER_USER_LIST_REQUEST';\r\nexport const ORDER_USER_LIST_SUCCESS = 'ORDER_USER_LIST_SUCCESS';\r\nexport const ORDER_USER_LIST_FAILURE = 'ORDER_USER_LIST_FAILURE';\r\nexport const ORDER_USER_LIST_RESET = 'ORDER_USER_LIST_RESET';\r\n\r\nexport const ORDER_ALL_LIST_REQUEST = 'ORDER_ALL_LIST_REQUEST';\r\nexport const ORDER_ALL_LIST_SUCCESS = 'ORDER_ALL_LIST_SUCCESS';\r\nexport const ORDER_ALL_LIST_FAILURE = 'ORDER_ALL_LIST_FAILURE';\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAILURE,\r\n\tUSER_LOGIN_REFRESH_REQUEST,\r\n\tUSER_LOGIN_REFRESH_SUCCESS,\r\n\tUSER_LOGIN_REFRESH_FAILURE,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAILURE,\r\n\tUSER_RESET_PASSWORD_REQUEST,\r\n\tUSER_RESET_PASSWORD_SUCCESS,\r\n\tUSER_RESET_PASSWORD_FAILURE,\r\n\tUSER_EMAIL_VERIFICATION_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\r\n\tUSER_EMAIL_VERIFICATION_FAILURE,\r\n\tUSER_CONFIRM_REQUEST,\r\n\tUSER_CONFIRM_SUCCESS,\r\n\tUSER_CONFIRM_FAILURE,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAILURE,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_PROFILE_UPDATE_REQUEST,\r\n\tUSER_PROFILE_UPDATE_SUCCESS,\r\n\tUSER_PROFILE_UPDATE_FAILURE,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILURE,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAILURE,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILURE,\r\n} from '../constants/userConstants';\r\nimport {\r\n\tORDER_CREATE_RESET,\r\n\tORDER_USER_LIST_RESET,\r\n} from '../constants/orderConstants';\r\nimport axios from 'axios';\r\n\r\nexport const loginUser = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REQUEST });\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login',\r\n\t\t\t{ email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: false },\r\n\t\t});\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\r\n\t\t\tpayload: data.refreshToken,\r\n\t\t});\r\n\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'userInfo',\r\n\t\t\tJSON.stringify({ ...data, isSocialLogin: false })\r\n\t\t);\r\n\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const refreshLogin = (email) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REFRESH_REQUEST });\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tif (userInfo.isSocialLogin) {\r\n\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: null });\r\n\t\t} else {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post(\r\n\t\t\t\t'/api/users/refresh',\r\n\t\t\t\t{\r\n\t\t\t\t\temail,\r\n\t\t\t\t\ttoken: userInfo.refreshToken,\r\n\t\t\t\t},\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tif (data.success) {\r\n\t\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: data });\r\n\t\t\t\tconst updatedUser = {\r\n\t\t\t\t\t...userInfo,\r\n\t\t\t\t\taccessToken: data.accessToken,\r\n\t\t\t\t\trefreshToken: userInfo.refreshToken,\r\n\t\t\t\t};\r\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(updatedUser));\r\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: updatedUser });\r\n\t\t\t} else if (!data.success) {\r\n\t\t\t\tlocalStorage.removeItem('userInfo');\r\n\t\t\t\tlocalStorage.setItem('redirectLogin', 'true');\r\n\t\t\t\tdispatch({ type: USER_LOGOUT });\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REFRESH_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo');\r\n\tlocalStorage.removeItem('redirectLogin');\r\n\tlocalStorage.removeItem('cartItems');\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: ORDER_CREATE_RESET });\r\n\tdispatch({ type: ORDER_USER_LIST_RESET });\r\n};\r\n\r\nexport const registerUser = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_REGISTER_REQUEST });\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/',\r\n\t\t\t{ name, email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const sendVerficationEmail = (email) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_REQUEST });\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/confirm',\r\n\t\t\t{ email },\r\n\t\t\tconfig\r\n\t\t);\r\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_EMAIL_VERIFICATION_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const confirmUser =\r\n\t(emailToken, alreadyLoggedIn = false) =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_CONFIRM_REQUEST });\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/users/confirm/${emailToken}`\r\n\t\t\t);\r\n\r\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t\tdispatch({ type: USER_CONFIRM_SUCCESS, payload: true });\r\n\r\n\t\t\tif (alreadyLoggedIn) {\r\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\r\n\t\t\t\t\tpayload: data.refreshToken,\r\n\t\t\t\t});\r\n\t\t\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\r\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t\t\t}\r\n\r\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_CONFIRM_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const resetUserPassword =\r\n\t(passwordToken, password) => async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_REQUEST });\r\n\r\n\t\t\t// make the api call to reset the password\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.put(\r\n\t\t\t\t'/api/users/reset',\r\n\t\t\t\t{ passwordToken, password },\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_RESET_PASSWORD_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tif (userInfo.isSocialLogin) {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tlet { data } = await axios.post(\r\n\t\t\t\t'/api/users/passport/data/',\r\n\t\t\t\t{ id },\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\t\tpayload: { ...data, isSocialLogin: true },\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\t\tpayload: { ...data, isSocialLogin: false },\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_PROFILE_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst isSocial = userInfo.isSocialLogin;\r\n\t\tconst { data } = await axios.put('/api/users/profile', user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_PROFILE_UPDATE_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\t// login the user after updating the information\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'userInfo',\r\n\t\t\tJSON.stringify({ ...data, isSocialLogin: isSocial })\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_PROFILE_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listAllUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LIST_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.get('/api/users/', config);\r\n\r\n\t\tdispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tawait axios.delete(`/api/users/${id}`, config);\r\n\r\n\t\tdispatch({ type: USER_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst isSocial = userInfo.isSocialLogin;\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/users/${user._id}`,\r\n\t\t\tuser,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: USER_UPDATE_SUCCESS });\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\tif (data.id === userInfo.id) {\r\n\t\t\t// // login the user after updating the information\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\t...userInfo,\r\n\t\t\t\t...userInfo,\r\n\t\t\t\tid: data.id,\r\n\t\t\t\tname: data.name,\r\n\t\t\t\temail: data.email,\r\n\t\t\t\tisAdmin: data.isAdmin,\r\n\t\t\t\tisConfirmed: data.isConfirmed,\r\n\t\t\t};\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\t\tpayload: newUserInfo,\r\n\t\t\t});\r\n\r\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(newUserInfo));\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('');\r\n\tconst handleSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`);\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Form onSubmit={handleSearch} className='d-flex'>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='keyword'\r\n\t\t\t\tclassName='mr-sm-2 ml-sm-4'\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tplaceholder='Search Products...'\r\n\t\t\t\tvalue={keyword}\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\ttype='submit'\r\n\t\t\t\tsize='sm'\r\n\t\t\t\tvariant='secondary'\r\n\t\t\t\tclassName='ms-2'>\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { logoutUser } from '../actions/userActions';\r\nimport { Route } from 'react-router-dom';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { userInfo } = userLogin;\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst [show1, setShow1] = useState(false);\r\n\tconst [show2, setShow2] = useState(false);\r\n\tconst [count, setCount] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCount(cartItems.reduce((acc, item) => acc + item.qty, 0));\r\n\t}, [cartItems]);\r\n\r\n\tconst handleDropdown2 = (e) => {\r\n\t\tif (show2) {\r\n\t\t\tsetShow2(false);\r\n\t\t} else {\r\n\t\t\tsetShow2(true);\r\n\t\t\tsetShow1(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDropdown1 = (e) => {\r\n\t\tif (show1) {\r\n\t\t\tsetShow1(false);\r\n\t\t} else {\r\n\t\t\tsetShow1(true);\r\n\t\t\tsetShow2(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logoutUser());\r\n\t\twindow.location.href = '/';\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<section\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: show1 || show2 ? 'block' : 'none',\r\n\t\t\t\t\tminWidth: '100%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t// background: 'red',\r\n\t\t\t\t\tzIndex: '100',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShow1(false);\r\n\t\t\t\t\tsetShow2(false);\r\n\t\t\t\t}}></section>\r\n\t\t\t<Navbar bg='primary' variant='dark' expand='lg' collapseOnSelect>\r\n\t\t\t\t<Container style={{ maxWidth: '85%' }}>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>KOSELLS</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\t\t\t\t\t<Navbar.Collapse id='basic-navbar-nav'>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\trender={({ history }) => (\r\n\t\t\t\t\t\t\t\t<SearchBox history={history} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Nav className='ms-auto'>\r\n\t\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t{count ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='nav-cart-size'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcount > 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? { fontSize: '0.6em' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: { fontSize: '0.7em' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{count}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName='fas fa-shopping-cart'></i>{' '}\r\n\t\t\t\t\t\t\t\t\tCart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\t\ttitle='Admin'\r\n\t\t\t\t\t\t\t\t\tid='adminMenu'\r\n\t\t\t\t\t\t\t\t\tshow={show2}\r\n\t\t\t\t\t\t\t\t\tonClick={handleDropdown2}>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tProducts\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tOrders\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '0.8em',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={userInfo.avatar}\r\n\t\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\r\n\t\t\t\t\t\t\t\t\t\talt={userInfo.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\t\t\ttitle={userInfo.name}\r\n\t\t\t\t\t\t\t\t\t\tid={userInfo.id}\r\n\t\t\t\t\t\t\t\t\t\tshow={show1}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleDropdown1}>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/login' variant='primary'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-user'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\n// import { Link } from 'react-router-dom';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tmarginRight: '-3em',\r\n\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<div className='footer-icons'>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='https://github.com/Rajatm544'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t<i className='fab fa-github footer-icon'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='https://www.linkedin.com/in/rajat--m'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t<i className='fab fa-linkedin-in footer-icon'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='https://twitter.com/Rajat__m'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t<i className='fab fa-twitter footer-icon'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='https://rajatm.netlify.app/'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t<i className='fas fa-globe-asia footer-icon'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='footer-copyright'>&copy;2021 Kosells</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className='rating'>\r\n\t\t\t{[1, 2, 3, 4, 5].map((ele, idx) => (\r\n\t\t\t\t<span key={idx}>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color: color, fontSize: '0.9em' }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= ele\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= ele - 0.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={`${value} Stars`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t))}\r\n\t\t\t<span style={{ fontSize: '0.9em' }}>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8e825',\r\n};\r\n\r\nRating.propTypes = {\r\n\tvalue: PropTypes.number.isRequired,\r\n\ttext: PropTypes.string,\r\n\tcolor: PropTypes.string,\r\n};\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport Rating from './Rating';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className='my-3 p-0'>\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} variant='top' />\r\n\t\t\t</Link>\r\n\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/product/${product._id}`}\r\n\t\t\t\t\tstyle={{ color: 'dimgray', textDecoration: 'none' }}>\r\n\t\t\t\t\t<Card.Title as='p' style={{ minHeight: '7ch' }}>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t{product && product.rating && (\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\ttext={`${product.numReviews} Review${\r\n\t\t\t\t\t\t\t\tproduct.numReviews > 1 ? 's' : ''\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Card.Text>\r\n\r\n\t\t\t\t<Card.Text as='h4'>\r\n\t\t\t\t\t&#x20B9; {product.price && product.price.toFixed(2)}\r\n\t\t\t\t</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({\r\n\tpages,\r\n\tpage,\r\n\tisAdmin = false,\r\n\tkeyword = '',\r\n\tforOrders = false,\r\n}) => {\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((ele) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={ele + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\tisAdmin\r\n\t\t\t\t\t\t\t\t? forOrders\r\n\t\t\t\t\t\t\t\t\t? `/admin/orderlist/${ele + 1}`\r\n\t\t\t\t\t\t\t\t\t: `/admin/productlist/${ele + 1}`\r\n\t\t\t\t\t\t\t\t: keyword\r\n\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${ele + 1}`\r\n\t\t\t\t\t\t\t\t: `/page/${ele + 1}`\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t<Pagination.Item active={ele + 1 === Number(page)}>\r\n\t\t\t\t\t\t\t{ele + 1}\r\n\t\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation='border'\r\n\t\t\trole='status'\r\n\t\t\tvariant='primary'\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100px',\r\n\t\t\t\theight: '100px',\r\n\t\t\t\tmargin: '25vh auto',\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t}}>\r\n\t\t\t<span className='sr-only'>Loading...</span>\r\n\t\t</Spinner>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, duration, children }) => {\r\n\tconst [visible, setVisible] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetVisible(true);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (duration) {\r\n\t\t\tsetTimeout(() => setVisible(false), duration * 1000);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Alert\r\n\t\t\tstyle={visible ? { display: 'block' } : { display: 'none' }}\r\n\t\t\tvariant={variant}>\r\n\t\t\t{children}\r\n\t\t</Alert>\r\n\t);\r\n};\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n};\r\n\r\nexport default Message;\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAILURE = 'PRODUCT_LIST_FAILURE';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAILURE = 'PRODUCT_DETAILS_FAILURE';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAILURE = 'PRODUCT_DELETE_FAILURE';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAILURE = 'PRODUCT_CREATE_FAILURE';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAILURE = 'PRODUCT_UPDATE_FAILURE';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAILURE = 'PRODUCT_CREATE_REVIEW_FAILURE';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_RATED_REQUEST = 'PRODUCT_TOP_RATED_REQUEST';\r\nexport const PRODUCT_TOP_RATED_SUCCESS = 'PRODUCT_TOP_RATED_SUCCESS';\r\nexport const PRODUCT_TOP_RATED_FAILURE = 'PRODUCT_TOP_RATED_FAILURE';\r\n","import {\r\n\tPRODUCT_DETAILS_FAILURE,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_LIST_FAILURE,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_DELETE_FAILURE,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAILURE,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAILURE,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILURE,\r\n\tPRODUCT_TOP_RATED_REQUEST,\r\n\tPRODUCT_TOP_RATED_SUCCESS,\r\n\tPRODUCT_TOP_RATED_FAILURE,\r\n} from '../constants/productConstants';\r\nimport axios from 'axios';\r\n\r\nexport const listProducts =\r\n\t(keyword = '', pageNumber = '', pageSize = '') =>\r\n\tasync (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}&pageSize=${pageSize}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.delete(`/api/products/${id}`, config);\r\n\r\n\t\tdata && dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.post(`/api/products/`, {}, config);\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProductReview =\r\n\t(productID, review) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tawait axios.post(\r\n\t\t\t\t`/api/products/${productID}/reviews`,\r\n\t\t\t\treview,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const getTopRatedProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_TOP_RATED_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get('/api/products/top');\r\n\r\n\t\tdispatch({ type: PRODUCT_TOP_RATED_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_RATED_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Carousel, CarouselItem, Image } from 'react-bootstrap';\r\nimport Loader from './Loader';\r\nimport Message from './Message';\r\nimport { getTopRatedProducts } from '../actions/productActions';\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productTopRated = useSelector((state) => state.productTopRated);\r\n\tconst { error, loading, products } = productTopRated;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getTopRatedProducts());\r\n\t}, [dispatch]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t<Carousel\r\n\t\t\t\tstyle={{ marginTop: '0.5em' }}\r\n\t\t\t\tpause='hover'\r\n\t\t\t\tclassName='bg-primary'\r\n\t\t\t\tindicators={false}\r\n\t\t\t\tinterval={10000}>\r\n\t\t\t\t{products &&\r\n\t\t\t\t\tproducts.map((product) => (\r\n\t\t\t\t\t\t<CarouselItem key={product._id}>\r\n\t\t\t\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\t\t\t\t\talt={product.name}\r\n\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Carousel.Caption className='carousel-caption'>\r\n\t\t\t\t\t\t\t\t\t{product.name} (&#8377;{' '}\r\n\t\t\t\t\t\t\t\t\t{product.price.toFixed(2)})\r\n\t\t\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</CarouselItem>\r\n\t\t\t\t\t))}\r\n\t\t\t</Carousel>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductCarousel;\r\n","import React from 'react';\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n\treturn (\r\n\t\t<HelmetProvider>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>{title}</title>\r\n\t\t\t\t<meta name='description' content={description} />\r\n\t\t\t\t<meta name='keywords' content={keywords} />\r\n\t\t\t</Helmet>\r\n\t\t</HelmetProvider>\r\n\t);\r\n};\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Welcome to Kosells',\r\n\tkeywords: 'Electronics, Kosells, Ecommerce, Rajat',\r\n\tdescription: 'Buy the best products at the lowest prices',\r\n};\r\nexport default Meta;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Product from '../components/Product';\r\nimport Paginate from '../components/Paginate';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport ProductCarousel from '../components/ProductCarousel';\r\nimport Meta from '../components/Meta';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\n\r\nconst HomePage = ({ match }) => {\r\n\tconst keyword = match.params.keyword;\r\n\tconst pageNumber = Number(match.params.pageNumber) || 1;\r\n\tconst dispatch = useDispatch();\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { products, loading, error, pages } = productList;\r\n\tconst [promptVerfication, setPromptVerification] = useState(false);\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userInfoError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfoError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userInfoError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword, pageNumber));\r\n\t}, [dispatch, keyword, pageNumber]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPromptVerification(\r\n\t\t\tlocalStorage.getItem('promptEmailVerfication') === 'true'\r\n\t\t\t\t? true\r\n\t\t\t\t: false\r\n\t\t);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t{!keyword ? (\r\n\t\t\t\t<ProductCarousel />\r\n\t\t\t) : (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName='btn btn-outline btn-outline-primary my-2'\r\n\t\t\t\t\tto='/'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t{/* <h1>Latest Products.</h1> */}\r\n\t\t\t{promptVerfication ? (\r\n\t\t\t\t<Message variant='info' duration={10}>\r\n\t\t\t\t\tAccount Created! Please check your email to verify your\r\n\t\t\t\t\taccount and start shopping.\r\n\t\t\t\t</Message>\r\n\t\t\t) : null}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : products ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.length ? (\r\n\t\t\t\t\t\t\tproducts.map((product) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tsm={12}\r\n\t\t\t\t\t\t\t\t\t\tmd={6}\r\n\t\t\t\t\t\t\t\t\t\tlg={4}\r\n\t\t\t\t\t\t\t\t\t\txl={3}\r\n\t\t\t\t\t\t\t\t\t\tkey={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Col>No Items Found for this search query...</Col>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tclassName='mt-auto text-center'\r\n\t\t\t\t\t\tpage={pageNumber}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useState } from 'react';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nconst ImageMagnifier = ({\r\n\tsrc,\r\n\talt,\r\n\ttitle,\r\n\twidth,\r\n\theight,\r\n\tmagnifierHeight = 200,\r\n\tmagnifieWidth = 200,\r\n\tzoomLevel = 1.5,\r\n}) => {\r\n\tconst [[x, y], setXY] = useState([0, 0]);\r\n\tconst [[imgWidth, imgHeight], setSize] = useState([0, 0]);\r\n\tconst [showMagnifier, setShowMagnifier] = useState(false);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\theight: height,\r\n\t\t\t\twidth: width,\r\n\t\t\t}}>\r\n\t\t\t<Image\r\n\t\t\t\tsrc={src}\r\n\t\t\t\tstyle={{ height: height, width: width }}\r\n\t\t\t\tfluid\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tonMouseEnter={(e) => {\r\n\t\t\t\t\t// update image size and turn-on magnifier\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { width, height } = elem.getBoundingClientRect();\r\n\t\t\t\t\tsetSize([width, height]);\r\n\t\t\t\t\tsetShowMagnifier(true);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseMove={(e) => {\r\n\t\t\t\t\t// update cursor position\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { top, left } = elem.getBoundingClientRect();\r\n\r\n\t\t\t\t\t// calculate cursor position on the image\r\n\t\t\t\t\tconst x = e.pageX - left - window.pageXOffset;\r\n\t\t\t\t\tconst y = e.pageY - top - window.pageYOffset;\r\n\t\t\t\t\tsetXY([x, y]);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t// close magnifier\r\n\t\t\t\t\tsetShowMagnifier(false);\r\n\t\t\t\t}}\r\n\t\t\t\talt={alt}\r\n\t\t\t/>\r\n\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: showMagnifier ? '' : 'none',\r\n\t\t\t\t\t// display: window.innerWidth <= 468 ? 'none' : '',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t// prevent maginier blocks the mousemove event of img\r\n\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\theight: `${magnifierHeight}px`,\r\n\t\t\t\t\twidth: `${magnifieWidth}px`,\r\n\t\t\t\t\t// move element center to cursor pos\r\n\t\t\t\t\ttop: `${y - magnifierHeight / 2.5}px`,\r\n\t\t\t\t\tleft: `${x - magnifieWidth / 2.5}px`,\r\n\t\t\t\t\topacity: '1', // reduce opacity so you can verify position\r\n\t\t\t\t\tborder: '1px solid lightgray',\r\n\t\t\t\t\tbackgroundColor: 'white',\r\n\t\t\t\t\tbackgroundImage: `url('${src}')`,\r\n\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\tborderRadius: '50%',\r\n\r\n\t\t\t\t\t//calculate zoomed image size\r\n\t\t\t\t\tbackgroundSize: `${imgWidth * zoomLevel}px ${\r\n\t\t\t\t\t\timgHeight * zoomLevel\r\n\t\t\t\t\t}px`,\r\n\r\n\t\t\t\t\t//calculete position of zoomed image.\r\n\t\t\t\t\tbackgroundPositionX: `${\r\n\t\t\t\t\t\t-x * zoomLevel + magnifieWidth / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t\tbackgroundPositionY: `${\r\n\t\t\t\t\t\t-y * zoomLevel + magnifierHeight / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t}}></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageMagnifier;\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAILURE,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAILURE,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAILURE,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAILURE,\r\n\tORDER_USER_LIST_REQUEST,\r\n\tORDER_USER_LIST_SUCCESS,\r\n\tORDER_USER_LIST_FAILURE,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_ALL_LIST_FAILURE,\r\n} from '../constants/orderConstants';\r\n\r\nimport axios from 'axios';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_CREATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.post('/api/orders/', order, config);\r\n\r\n\t\tdispatch({ type: ORDER_CREATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrderDetails = (orderID) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${orderID}`, config);\r\n\r\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const payOrder =\r\n\t(orderID, paymentResult) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: ORDER_PAY_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tconst { data } = await axios.put(\r\n\t\t\t\t`/api/orders/${orderID}/pay`,\r\n\t\t\t\tpaymentResult,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_PAY_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const deliverOrder = (orderID) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DELIVER_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${orderID}/deliver`,\r\n\t\t\t{},\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_USER_LIST_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/myorders`, config);\r\n\r\n\t\tdispatch({ type: ORDER_USER_LIST_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_USER_LIST_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listAllOrders =\r\n\t(pageNumber = '') =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: ORDER_ALL_LIST_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/orders?pageNumber=${pageNumber}`,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: ORDER_ALL_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_ALL_LIST_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n","/* eslint-disable array-callback-return */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tCard,\r\n\tButton,\r\n\tListGroup,\r\n\tForm,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport ImageMagnifier from '../components/ImageMagnifier';\r\nimport Rating from '../components/Rating';\r\nimport Meta from '../components/Meta';\r\nimport {\r\n\tlistProductDetails,\r\n\tcreateProductReview,\r\n} from '../actions/productActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst ProductPage = ({ history, match }) => {\r\n\tconst [quantity, setQuantity] = useState(1);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [review, setReview] = useState('');\r\n\tconst [hasOrderedItem, setHasOrderedItem] = useState(false);\r\n\tconst [showReviewForm, setShowReviewForm] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, product, error } = productDetails;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tconst productCreateReview = useSelector(\r\n\t\t(state) => state.productCreateReview\r\n\t);\r\n\tconst {\r\n\t\tloading: loadingCreateReview,\r\n\t\tsuccess: successCreateReview,\r\n\t\terror: errorCreateReview,\r\n\t} = productCreateReview;\r\n\r\n\tconst orderListUser = useSelector((state) => state.orderListUser);\r\n\tconst { orders } = orderListUser;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listMyOrders());\r\n\t}, [dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successCreateReview) {\r\n\t\t\twindow.alert('Review Submitted!!');\r\n\t\t\tsetRating(0);\r\n\t\t\tsetReview('');\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n\t\t}\r\n\t\tdispatch(listProductDetails(match.params.id));\r\n\t}, [match, dispatch, successCreateReview]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (product && product.reviews && userInfo) {\r\n\t\t\tlet flag = 0;\r\n\t\t\tfor (let review of product.reviews) {\r\n\t\t\t\tif (review.user === userInfo.id) {\r\n\t\t\t\t\tflag = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tflag ? setShowReviewForm(false) : setShowReviewForm(true);\r\n\t\t} else {\r\n\t\t\tsetShowReviewForm(true);\r\n\t\t}\r\n\t}, [product, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (orders && orders.length) {\r\n\t\t\tlet flag = 0;\r\n\t\t\tfor (let obj of orders) {\r\n\t\t\t\tfor (let ele of obj.orderItems) {\r\n\t\t\t\t\tif (ele.product.toString() === match.params.id) {\r\n\t\t\t\t\t\tflag = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tflag ? setHasOrderedItem(true) : setHasOrderedItem(false);\r\n\t\t} else {\r\n\t\t\tsetHasOrderedItem(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [orders]);\r\n\r\n\tconst getDateString = (date) => {\r\n\t\tconst options = {\r\n\t\t\tyear: 'numeric',\r\n\t\t\tmonth: 'short',\r\n\t\t\tday: 'numeric',\r\n\t\t};\r\n\t\tconst timeStr = new Date(date).toLocaleTimeString('en', {\r\n\t\t\ttimeStyle: 'short',\r\n\t\t\thour12: true,\r\n\t\t\ttimeZone: 'IST',\r\n\t\t});\r\n\t\treturn timeStr + ' ' + new Date(date).toLocaleDateString('en', options);\r\n\t};\r\n\r\n\tconst handleAddToCart = (e) => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${quantity}`);\r\n\t};\r\n\r\n\tconst handleReviewSubmit = (e) => {\r\n\t\tdispatch(\r\n\t\t\tcreateProductReview(match.params.id, {\r\n\t\t\t\trating,\r\n\t\t\t\treview,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className='btn btn-outline-primary my-2' to='/'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : product ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={`${product.name}`} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<ImageMagnifier\r\n\t\t\t\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\t\t\t\talt={product.name}\r\n\t\t\t\t\t\t\t\ttitle={product.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{product && product.rating && (\r\n\t\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\t\ttext={`${\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews\r\n\t\t\t\t\t\t\t\t\t\t\t} Review${\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews > 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 's'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<strong>Price: </strong>&#8377;{' '}\r\n\t\t\t\t\t\t\t\t\t{product.price && product.price.toFixed(2)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<strong>Description:</strong>{' '}\r\n\t\t\t\t\t\t\t\t\t{product.description}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Price: </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377;{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Status: </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Qty:</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetQuantity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* create as many options as the countInStock */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...Array(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].map((ele) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ele + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddToCart}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block btn-lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock <= 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd To Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2>Reviews</h2>\r\n\t\t\t\t\t\t\t{!product.reviews.length && (\r\n\t\t\t\t\t\t\t\t<Message>No Reviews yet</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{product.reviews.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={item._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{item.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t<Rating value={item.rating} />\r\n\t\t\t\t\t\t\t\t\t\t\t<p>{item.review}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<time>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(item.createdAt)}\r\n\t\t\t\t\t\t\t\t\t\t\t</time>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{hasOrderedItem && !showReviewForm && (\r\n\t\t\t\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\t\t\t\tYou have already reviewed this product\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{hasOrderedItem && showReviewForm && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Write a Customer Review</h2>\r\n\t\t\t\t\t\t\t\t\t\t{errorCreateReview && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{errorCreateReview}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{loadingCreateReview && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={handleReviewSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRating(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option default>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChoose Rating\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 - Bad\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 - Poor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3 - Fair\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4 - Good\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5 - Excellent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='commenttext'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Comment'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='my-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Leave a comment here'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={review}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treview\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}></Form.Control> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type='submit'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit Review\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductPage;\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_RESET = 'CART_RESET';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\n","import axios from 'axios';\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants';\r\n\r\nexport const addItem = (id, qty) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: CART_ADD_ITEM,\r\n\t\t\tpayload: {\r\n\t\t\t\tproduct: data._id,\r\n\t\t\t\tname: data.name,\r\n\t\t\t\timage: data.image,\r\n\t\t\t\tprice: data.price,\r\n\t\t\t\tcountInStock: data.countInStock,\r\n\t\t\t\tqty,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};\r\n\r\nexport const removeItem = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_REMOVE_ITEM,\r\n\t\t\tpayload: id,\r\n\t\t});\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t\tlocalStorage.setItem('shippingAddress', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t\tlocalStorage.setItem('paymentMethod', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tImage,\r\n\tButtonGroup,\r\n\tListGroup,\r\n\tButton,\r\n\tCard,\r\n} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Meta from '../components/Meta';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\nimport { addItem, removeItem } from '../actions/cartActions';\r\n\r\nconst CartPage = ({ match, location, history }) => {\r\n\tconst [totalItems, setTotalItems] = useState(0);\r\n\tconst productID = match.params.id;\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1;\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (cartItems) {\r\n\t\t\tsetTotalItems(cartItems.reduce((acc, item) => acc + item.qty, 0));\r\n\t\t}\r\n\t}, [cartItems]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productID) {\r\n\t\t\tdispatch(addItem(productID, qty));\r\n\t\t}\r\n\t}, [dispatch, productID, qty]);\r\n\r\n\tconst handleRemoveFromCart = (id) => {\r\n\t\tdispatch(removeItem(id));\r\n\t};\r\n\tconst handleCheckout = (e) => {\r\n\t\thistory.push('/login?redirect=shipping');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Meta title='My Cart | Kosells' />\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart.</h1>\r\n\t\t\t\t{!cartItems.length ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour Cart is empty. <Link to='/'>Go Back.</Link>{' '}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>&#8377; {item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '0.7em' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.qty}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t...Array(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t].map((ele) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ele + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control> */}\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup aria-label='Addtocart'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty >=\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={item.qty === 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty - 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-minus'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveFromCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.product\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4} className='mt-3'>\r\n\t\t\t\t<ListGroup>\r\n\t\t\t\t\t<Card variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\tSubtotal ({totalItems}) Item\r\n\t\t\t\t\t\t\t\t{totalItems > 1 && 's'}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t&#8377;{' '}\r\n\t\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t\t.reduce(\r\n\t\t\t\t\t\t\t\t\t\t(acc, item) =>\r\n\t\t\t\t\t\t\t\t\t\t\tacc + item.qty * item.price,\r\n\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t// variant='dark'\r\n\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\r\n\t\t\t\t\t\t\t\t\tonClick={handleCheckout}>\r\n\t\t\t\t\t\t\t\t\tProceed to checkout\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</ListGroup>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={2}></Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartPage;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","export default __webpack_public_path__ + \"static/media/googleLogo.0590aaf0.png\";","export default __webpack_public_path__ + \"static/media/twitterLogo.f963dcac.png\";","import React from 'react';\r\nimport { Card, Image } from 'react-bootstrap';\r\nimport googleLogo from '../assets/googleLogo.png';\r\nimport githubLogo from '../assets/githubLogo.png';\r\nimport twitterLogo from '../assets/twitterLogo.png';\r\nimport linkedinLogo from '../assets/linkedinLogo.png';\r\n\r\nconst SocialLoginOptions = () => {\r\n\treturn (\r\n\t\t// <Card>\r\n\t\t<div\r\n\t\t\tid='social-login'\r\n\t\t\tstyle={{\r\n\t\t\t\tmargin: '1em 0',\r\n\t\t\t\tpadding: '0',\r\n\t\t\t}}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexFlow: 'row nowrap',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\tpadding: '0',\r\n\t\t\t\t}}>\r\n\t\t\t\t<div className='social-login-line'></div>\r\n\t\t\t\t<p\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\tmargin: '0 1%',\r\n\t\t\t\t\t\tfontWeight: '400',\r\n\t\t\t\t\t\tfontSize: '0.9rem',\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tOr Connect With\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className='social-login-line'></div>\r\n\t\t\t</div>\r\n\t\t\t<Card.Body\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tfleFlow: 'row wrap',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t}}>\r\n\t\t\t\t<a href='http://localhost:5000/api/auth/google'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'cover',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={googleLogo}></Image>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href='http://localhost:5000/api/auth/github'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'cover',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={githubLogo}></Image>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href='http://localhost:5000/api/auth/twitter'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={twitterLogo}></Image>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href='http://localhost:5000/api/auth/linkedin'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={linkedinLogo}></Image>\r\n\t\t\t\t</a>\r\n\t\t\t</Card.Body>\r\n\t\t</div>\r\n\r\n\t\t// </Card>\r\n\t);\r\n};\r\n\r\nexport default SocialLoginOptions;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEzMjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQTQxNEFCQzk5QTExMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMwOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTMxOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R7ClIwAADR5JREFUeNrsnQuw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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABKNAAASjQEphQ1dAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAvFQTFRF////AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3dPNe8AAAAPp0Uk5TAAECAwQFBgcICQoLDA0ODxAREhMU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\"","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tInputGroup,\r\n\tCol,\r\n\tCard,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport { loginUser } from '../actions/userActions';\r\nimport { USER_LOGIN_SUCCESS } from '../constants/userConstants';\r\nimport axios from 'axios';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport SocialLoginOptions from '../components/SocialLoginOptions';\r\n\r\nconst LoginPage = ({ location, history }) => {\r\n\tconst [showRedirectMsg, setShowRedirectMsg] = useState(false);\r\n\tconst [forgotPassword, setForgotPassword] = useState(false);\r\n\tconst [showLoading, setShowLoading] = useState(false); // to display loader after user submits the email to reset password\r\n\tconst [emailSent, setEmailSent] = useState(false); //to display a message that email is sent to reset password\r\n\r\n\tconst [type, setType] = useState('password');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, userInfo, error } = userLogin;\r\n\tconst storedInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!location.search.includes('success') && userInfo)\r\n\t\t\thistory.push(redirect);\r\n\t}, [history, redirect, location, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst flag = localStorage.getItem('redirectLogin');\r\n\t\tif (flag && flag === 'true') {\r\n\t\t\tsetShowRedirectMsg(true);\r\n\t\t} else {\r\n\t\t\tsetShowRedirectMsg(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t// check for url params\r\n\t\tif (window.location.search.includes('success')) {\r\n\t\t\tconst queries = window.location.search.split('&');\r\n\t\t\tconst isSuccess = queries[0].split('=')[1] === 'success';\r\n\t\t\tconst id = queries[1].split('=')[1];\r\n\t\t\tif (isSuccess) {\r\n\t\t\t\t// get user data and dispatch login success\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post('/api/users/passport/data', {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tisAdmin,\r\n\t\t\t\t\t\t\tisConfirmed,\r\n\t\t\t\t\t\t\tavatar,\r\n\t\t\t\t\t\t} = data;\r\n\t\t\t\t\t\tconst userData = {\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tisAdmin,\r\n\t\t\t\t\t\t\tisConfirmed,\r\n\t\t\t\t\t\t\tavatar,\r\n\t\t\t\t\t\t\tisSocialLogin: true,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\t\t\t\t\tpayload: userData,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\t'userInfo',\r\n\t\t\t\t\t\t\tJSON.stringify(userData)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t\t\t\t\thistory.push('/shipping');\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, redirect]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tstoredInfo &&\r\n\t\t\tstoredInfo.email &&\r\n\t\t\tlocalStorage.getItem('fillEmailOnLoginPage') === 'true'\r\n\t\t) {\r\n\t\t\tlocalStorage.removeItem('fillEmailOnLoginPage');\r\n\t\t\tsetEmail(storedInfo.email);\r\n\t\t}\r\n\t}, [storedInfo]);\r\n\r\n\tconst showHide = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetType(type === 'password' ? 'text' : 'password');\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(loginUser(email, password));\r\n\t};\r\n\r\n\tconst handleEmailSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetShowLoading(true);\r\n\r\n\t\t// send the mail to the registered user\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/reset',\r\n\t\t\t{ email },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tif (data) {\r\n\t\t\tsetShowLoading(false);\r\n\t\t\tsetEmailSent(true);\r\n\t\t\t// store the name in localstorage\r\n\t\t\tlocalStorage.setItem('EcommerceUserName', data.name);\r\n\t\t}\r\n\t};\r\n\r\n\tif (!forgotPassword) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<FormContainer>\r\n\t\t\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\t\t\tboxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tMozBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<h1 onClick={() => history.push('/register')}>\r\n\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{showRedirectMsg && (\r\n\t\t\t\t\t\t\t<Message variant='info' duration={10}>\r\n\t\t\t\t\t\t\t\tYour session has expired. Please login again.\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Email address'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={showHide}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{type === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '-1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetForgotPassword(true)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\tForgot Password?\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t<SocialLoginOptions />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FormContainer>\r\n\t\t\t</>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<FormContainer>\r\n\t\t\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\t\t\tboxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tMozBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tcursor: 'default',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tReset Password\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{showLoading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : emailSent ? (\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Body className='pl-0'>\r\n\t\t\t\t\t\t\t\t\t<Card.Title>Email Sent</Card.Title>\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\tPlease use the link sent to your email\r\n\t\t\t\t\t\t\t\t\t\tand reset your password right away!\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Email address'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '-1em',\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetForgotPassword(false)\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\tI remember my password\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<SocialLoginOptions />\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FormContainer>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tInputGroup,\r\n\tFloatingLabel,\r\n\tRow,\r\n\tCol,\r\n} from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { registerUser } from '../actions/userActions';\r\n\r\nconst RegisterPage = ({ location, history }) => {\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst userRegister = useSelector((state) => state.userRegister);\r\n\tconst { loading, userInfo, error } = userRegister;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tlocalStorage.setItem('promptEmailVerfication', 'true');\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, redirect, userInfo]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(registerUser(name, email, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t<h1 onClick={() => history.push('/login')}>Sign In</h1>\r\n\t\t\t\t\t<h1\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\tboxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\tMozBoxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={() => history.push('/register')}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Message variant='warning' duration={10}>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\tlabel='Email Address'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Confirm password'\r\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex', width: '100%' }}\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tRow,\r\n\tInputGroup,\r\n\tCol,\r\n\tCard,\r\n\tTable,\r\n\tImage,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {\r\n\tsendVerficationEmail,\r\n\tgetUserDetails,\r\n\tupdateUserProfile,\r\n\trefreshLogin,\r\n} from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { USER_PROFILE_UPDATE_RESET } from '../constants/userConstants';\r\nimport Meta from '../components/Meta';\r\nimport axios from 'axios';\r\n\r\nconst ProfilePage = ({ location, history }) => {\r\n\tconst inputFile = useRef(null);\r\n\tconst [showSubmitButton, setShowSubmitButton] = useState(false);\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [avatar, setAvatar] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tconst [uploading, setUploading] = useState(false);\r\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, user, error } = userDetails;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userProfileUpdate = useSelector((state) => state.userProfileUpdate);\r\n\tconst { success } = userProfileUpdate;\r\n\r\n\tconst orderListUser = useSelector((state) => state.orderListUser);\r\n\tconst {\r\n\t\tloading: loadingOrdersList,\r\n\t\torders,\r\n\t\terror: errorOrdersList,\r\n\t} = orderListUser;\r\n\r\n\tconst userSendEmailVerfication = useSelector(\r\n\t\t(state) => state.userSendEmailVerfication\r\n\t);\r\n\tconst { emailSent, hasError } = userSendEmailVerfication;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tif (name && userInfo.name !== name) setShowSubmitButton(true);\r\n\t\t\telse if (email && userInfo.email !== email)\r\n\t\t\t\tsetShowSubmitButton(true);\r\n\t\t\telse if (avatar && userInfo.avatar !== avatar)\r\n\t\t\t\tsetShowSubmitButton(true);\r\n\t\t\telse if (password || confirmPassword) setShowSubmitButton(true);\r\n\t\t\telse setShowSubmitButton(false);\r\n\t\t}\r\n\t}, [name, email, avatar, password, confirmPassword, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t} else {\r\n\t\t\t// if user is null, first fetch it and then set its details to the local state\r\n\t\t\tif (!user || !user.name || success) {\r\n\t\t\t\tdispatch({ type: USER_PROFILE_UPDATE_RESET });\r\n\t\t\t\tdispatch(listMyOrders());\r\n\t\t\t\tuserInfo\r\n\t\t\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t\t\t: dispatch(getUserDetails('profile'));\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tuserInfo.isSocialLogin\r\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetAvatar(user.avatar);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [history, userInfo, user, dispatch, success]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\tconst getDateString = (date) => {\r\n\t\tconst options = {\r\n\t\t\tyear: 'numeric',\r\n\t\t\tmonth: 'short',\r\n\t\t\tday: 'numeric',\r\n\t\t};\r\n\t\tconst timeStr = new Date(date).toLocaleTimeString('en', {\r\n\t\t\ttimeStyle: 'short',\r\n\t\t\thour12: false,\r\n\t\t\ttimeZone: 'IST',\r\n\t\t});\r\n\t\treturn timeStr + ' ' + new Date(date).toLocaleDateString('en', options);\r\n\t};\r\n\r\n\tconst handleImageUpload = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetAvatar(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetErrorImageUpload('Please choose a valid image');\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleImageClick = () => {\r\n\t\tinputFile.current.click();\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(\r\n\t\t\t\tupdateUserProfile({\r\n\t\t\t\t\tid: user.id,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tavatar,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tconfirmPassword,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Row className={userInfo && userInfo.isConfirmed ? 'mt-4' : 'mt-2'}>\r\n\t\t\t<Meta title='My Profile | Kosells' />\r\n\t\t\t{userInfo && !userInfo.isConfirmed ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{emailSent && (\r\n\t\t\t\t\t\t<Message variant='success' duration={8}>\r\n\t\t\t\t\t\t\tA verification link has been sent your mail!\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{hasError && (\r\n\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t{hasError}\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Card style={{ margin: '0' }} className='mb-3'>\r\n\t\t\t\t\t\t<Card.Body className='ps-0 '>\r\n\t\t\t\t\t\t\t<Card.Title style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tAccount Not Verified\r\n\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{`${userInfo.name}, `} your account is not yet\r\n\t\t\t\t\t\t\t\tverfied. Please{' '}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\tclassName='p-0'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\r\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 0.1em 0',\r\n\t\t\t\t\t\t\t\t\t\tfocus: 'none',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\tsendVerficationEmail(userInfo.email)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\tclick here\r\n\t\t\t\t\t\t\t\t</Button>{' '}\r\n\t\t\t\t\t\t\t\tto send a verfication email.\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<Col\r\n\t\t\t\tmd={3}\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\topacity: '0.5',\r\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t\t\tmarginLeft: '-1em',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\topacity: '1',\r\n\t\t\t\t\t\t\t\tpointerEvents: '',\r\n\t\t\t\t\t\t\t\tmarginLeft: '-1em',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}>\r\n\t\t\t\t<h2 className='text-center'>My Profile</h2>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Message variant='warning' duration={8}>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{error && error !== 'Not authorised. Token failed' && (\r\n\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{success && (\r\n\t\t\t\t\t<Message variant='success' duration={8}>\r\n\t\t\t\t\t\tProfile Updated!\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div style={{ display: 'flex', flexFlow: 'column nowrap' }}>\r\n\t\t\t\t\t\t{errorImageUpload && (\r\n\t\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t{errorImageUpload}\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='profile-page-image'\r\n\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}>\r\n\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\tsrc={avatar}\r\n\t\t\t\t\t\t\t\talt={name}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\theight: '5em',\r\n\t\t\t\t\t\t\t\t\twidth: '5em',\r\n\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\r\n\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName='image-overlay'\r\n\t\t\t\t\t\t\t\tonClick={handleImageClick}>\r\n\t\t\t\t\t\t\t\tClick to upload image\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\t\tref={inputFile}\r\n\t\t\t\t\t\t\tonChange={handleImageUpload}\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group\r\n\t\t\t\t\t\t\t\tcontrolId='email'\r\n\t\t\t\t\t\t\t\tclassName='my-2'\r\n\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\tuserInfo && userInfo.isSocialLogin\r\n\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\topacity: '0.8',\r\n\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t{/* <Form.Label>Email Address</Form.Label> */}\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t{userInfo && !userInfo.isSocialLogin && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHidePassword\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typePassword ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Confirm Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHideConfirmPassword\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tdisabled={!showSubmitButton}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tUpdate Profile\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col\r\n\t\t\t\tmd={9}\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\topacity: '0.5',\r\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\topacity: '1',\r\n\t\t\t\t\t\t\t\tpointerEvents: '',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}>\r\n\t\t\t\t<h2 className='text-center'>My Orders</h2>\r\n\t\t\t\t{loadingOrdersList ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrdersList ? (\r\n\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorOrdersList}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map((order, idx) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{getDateString(order.createdAt)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.deliveredAt)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProfilePage;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { confirmUser } from '../actions/userActions';\r\nimport Meta from '../components/Meta';\r\n\r\nconst ConfirmPage = ({ match, history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userConfirm = useSelector((state) => state.userConfirm);\r\n\tconst { loading, error, isConfirmed } = userConfirm;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tsetIsLoggedIn(true);\r\n\t\t} else {\r\n\t\t\tsetIsLoggedIn(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(confirmUser(match.params.token, isLoggedIn));\r\n\t\t// else dispatch(confirmUser(match.params.token, true));\r\n\t}, [dispatch, match, isLoggedIn]);\r\n\r\n\tif (loading || (!isConfirmed && !error)) {\r\n\t\treturn <Loader />;\r\n\t} else if (error) {\r\n\t\tsetTimeout(() => {\r\n\t\t\thistory.push('/login');\r\n\t\t}, 11000);\r\n\t\treturn (\r\n\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\tVerfication Failed. Please try to login again.\r\n\t\t\t</Message>\r\n\t\t);\r\n\t} else if (isConfirmed) {\r\n\t\tlocalStorage.setItem('fillEmailOnLoginPage', 'true');\r\n\t\treturn (\r\n\t\t\t<Card style={{ border: 'none', margin: '0 auto' }}>\r\n\t\t\t\t<Meta title='Confirm Password | Kosells' />\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Title>Account Confirmed</Card.Title>\r\n\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t{setIsLoggedIn\r\n\t\t\t\t\t\t\t? 'Your account has been successfully verified! Go on and shop for the best deals of the day!'\r\n\t\t\t\t\t\t\t: `Your account has been successfully verified! Please\r\n\t\t\t\t\t\tlogin and start exploring the best deals on all your\r\n\t\t\t\t\t\tfavorite products.`}\r\n\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t{!setIsLoggedIn ? <Link to='/login'>Login</Link> : null}\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default ConfirmPage;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutStatus = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className='justify-content-center mb-3'>\r\n\t\t\t<div>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/placeorder'>\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutStatus;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button, FloatingLabel } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst ShippingPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems, shippingAddress } = cart;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address);\r\n\tconst [city, setCity] = useState(shippingAddress.city);\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n\tconst [country, setCountry] = useState(shippingAddress.country);\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!(cartItems.length && userInfo)) {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t}, [cartItems, history, userInfo]);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tsaveShippingAddress({\r\n\t\t\t\taddress,\r\n\t\t\t\tcity,\r\n\t\t\t\tpostalCode,\r\n\t\t\t\tcountry,\r\n\t\t\t})\r\n\t\t);\r\n\t\thistory.push('/payment');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutStatus step1 step2 />\r\n\t\t\t<h1>Shipping Address</h1>\r\n\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='addressinput'\r\n\t\t\t\t\t\tlabel='Address'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter address'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='cityinput'\r\n\t\t\t\t\t\tlabel='City'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter City'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='postalcodeinput'\r\n\t\t\t\t\t\tlabel='Postal Code'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter Postal Code'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='countryinput'\r\n\t\t\t\t\t\tlabel='Country'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter Country'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tContinue\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default ShippingPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst PaymentPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState('Credit/Debit Card');\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!shippingAddress) {\r\n\t\t\thistory.push('/shipping');\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetPaymentMethod(e.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(savePaymentMethod(paymentMethod));\r\n\t\thistory.push('/placeorder');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutStatus step1 step2 step3 />\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexFlow: 'column nowrap',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}>\r\n\t\t\t\t<h1>Payment Method</h1>\r\n\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t{/* <Form.Label as='legend'>Select Method</Form.Label> */}\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\tlabel='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tid='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\t\tvalue='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tchecked={paymentMethod === 'Credit/Debit Card'}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\tlabel='PayPal Account'\r\n\t\t\t\t\t\t\t\tid='PayPal'\r\n\t\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\t\tvalue='PayPal'\r\n\t\t\t\t\t\t\t\tchecked={paymentMethod === 'PayPal'}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='my-3'\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t// variant='info'\r\n\t\t\t\t\t\t\t// onClick={\r\n\t\t\t\t\t\t\t// \tsuccessDeliveryHandler\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tContinue\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Button type='submit' variant='dark' className='my-1'>\r\n\t\t\t\t\t\tContinue\r\n\t\t\t\t\t</Button> */}\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { createOrder } from '../actions/orderActions';\r\nimport { CART_RESET } from '../constants/cartConstants';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst PlaceOrderPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems, shippingAddress, paymentMethod } = cart;\r\n\tconst orderCreate = useSelector((state) => state.orderCreate);\r\n\tconst { order, loading, success, error } = orderCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\tlocalStorage.removeItem('cartItems');\r\n\t\t\tdispatch({ type: CART_RESET, payload: shippingAddress });\r\n\t\t\thistory.push(`/order/${order._id}`);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [success, history]);\r\n\r\n\t// All prices\r\n\tcart.itemsPrice = cartItems\r\n\t\t.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t\t.toFixed(2);\r\n\tcart.shippingPrice = (cart.itemsPrice > 100 ? 100 : 250).toFixed(2);\r\n\tcart.taxPrice = (0.18 * cart.itemsPrice).toFixed(2);\r\n\tcart.totalPrice = (\r\n\t\tNumber(cart.itemsPrice) +\r\n\t\tNumber(cart.taxPrice) +\r\n\t\tNumber(cart.shippingPrice)\r\n\t).toFixed(2);\r\n\r\n\tconst handleOrder = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cartItems,\r\n\t\t\t\tshippingAddress,\r\n\t\t\t\tpaymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CheckoutStatus step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Address: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.city}-\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.country}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Method: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{paymentMethod}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Cart Items</h2>\r\n\t\t\t\t\t\t\t\t\t{cartItems.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t{cartItems.map((item, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.price} ={' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.price\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Subtotal</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>&#8377; {cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Shipping</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377; {cart.shippingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Tax</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>&#8377; {cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>&#8377; {cart.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item className='d-grid gap-2'>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t// variant='dark'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleOrder}>\r\n\t\t\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { payOrder } from '../actions/orderActions';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\n\r\nconst CheckoutForm = ({ price, orderID }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [clientSecret, setClientSecret] = useState('');\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\t// STEP 1: create a payment intent and getting the secret\r\n\tuseEffect(() => {\r\n\t\tconst getClientSecret = async () => {\r\n\t\t\tconst { data } = await axios.post(\r\n\t\t\t\t'/api/orders/stripe-payment',\r\n\t\t\t\t{ price, email: userInfo.email },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tsetClientSecret(data.clientSecret);\r\n\t\t};\r\n\r\n\t\tif (userInfo && price) getClientSecret();\r\n\t}, [price, userInfo]);\r\n\r\n\t// STEP 2: make the payment after filling the form properly\r\n\tconst makePayment = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (clientSecret) {\r\n\t\t\tconst payload = await stripe.confirmCardPayment(clientSecret, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tcard: elements.getElement(CardElement),\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tdispatch(savePaymentMethod('Stripe'));\r\n\t\t\tdispatch(\r\n\t\t\t\tpayOrder(orderID, {\r\n\t\t\t\t\t...payload.paymentIntent,\r\n\t\t\t\t\tpaymentMode: 'stripe',\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\twindow.location.reload();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form id='payment-form' onSubmit={makePayment}>\r\n\t\t\t<Form.Group\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: '1em 0',\r\n\t\t\t\t\tfontSize: '1em',\r\n\t\t\t\t}}>\r\n\t\t\t\t<CardElement\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tbase: {\r\n\t\t\t\t\t\t\t\tfontSize: '16px',\r\n\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\tcolor: '#aab7c4',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tinvalid: {\r\n\t\t\t\t\t\t\t\tcolor: '#9e2146',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tid='card-element'\r\n\t\t\t\t/>\r\n\t\t\t</Form.Group>\r\n\t\t\t<div className='d-grid'>\r\n\t\t\t\t<Button size='lg' type='submit'>\r\n\t\t\t\t\tPay Now\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default CheckoutForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport axios from 'axios';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport {\r\n\tgetOrderDetails,\r\n\tpayOrder,\r\n\tdeliverOrder,\r\n} from '../actions/orderActions';\r\nimport {\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\n// import StripeCheckout from 'react-stripe-checkout';\r\nimport { Elements } from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { refreshLogin } from '../actions/userActions';\r\nimport CheckoutForm from '../components/CheckoutForm';\r\n\r\nconst OrderPage = ({ match, history }) => {\r\n\tconst stripePromise = loadStripe(\r\n\t\tprocess.env.REACT_APP_STRIPE_PUBLISHABLE_KEY\r\n\t);\r\n\tconst [SDKReady, setSDKReady] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\tconst orderID = match.params.id;\r\n\r\n\tconst orderDetails = useSelector((state) => state.orderDetails);\r\n\tconst { loading, order, error } = orderDetails;\r\n\r\n\tconst orderPay = useSelector((state) => state.orderPay);\r\n\tconst { loading: loadingPay, success: successPay } = orderPay;\r\n\r\n\tconst orderDeliver = useSelector((state) => state.orderDeliver);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!order || order._id !== orderID || successPay || successDeliver) {\r\n\t\t\tif (successPay) dispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tif (successDeliver) dispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderID));\r\n\t\t}\r\n\t}, [order, orderID, dispatch, successPay, successDeliver]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst addScript = async () => {\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\t\t\tconst { data: clientID } = await axios.get(\r\n\t\t\t\t'/api/config/paypal',\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\t\t// add the script\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientID}&currency=USD&disable-funding=credit,card`;\r\n\t\t\tscript.onload = () => setSDKReady(true);\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t};\r\n\t\tif (!userInfo) history.push('/login');\r\n\t\tif (!SDKReady) addScript();\r\n\t}, [userInfo, SDKReady, history]);\r\n\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tdispatch(savePaymentMethod('PayPal'));\r\n\t\tdispatch(\r\n\t\t\tpayOrder(orderID, { ...paymentResult, paymentMode: 'paypal' })\r\n\t\t);\r\n\t};\r\n\r\n\t// const handleStripePayment = (token) => {\r\n\t// \t// const body = { token, order };\r\n\t// \tconst config = userInfo.isSocialLogin\r\n\t// \t\t? {\r\n\t// \t\t\t\theaders: {\r\n\t// \t\t\t\t\t'Content-Type': 'application/json',\r\n\t// \t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t// \t\t\t\t},\r\n\t// \t\t  }\r\n\t// \t\t: {\r\n\t// \t\t\t\theaders: {\r\n\t// \t\t\t\t\t'Content-Type': 'application/json',\r\n\t// \t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t// \t\t\t\t},\r\n\t// \t\t  };\r\n\r\n\t// \taxios\r\n\t// \t\t.post('/api/orders/stripe-payment', { token, order }, config)\r\n\t// \t\t.then((res) => console.log(res))\r\n\t// \t\t.catch((err) => console.error(err));\r\n\t// };\r\n\r\n\tconst successDeliveryHandler = () => {\r\n\t\tdispatch(deliverOrder(orderID));\r\n\t};\r\n\r\n\tconst getDateString = (date) => {\r\n\t\tconst options = {\r\n\t\t\tyear: 'numeric',\r\n\t\t\tmonth: 'short',\r\n\t\t\tday: 'numeric',\r\n\t\t};\r\n\t\tconst timeStr = new Date(date).toLocaleTimeString('en', {\r\n\t\t\ttimeStyle: 'short',\r\n\t\t\thour12: true,\r\n\t\t\ttimeZone: 'IST',\r\n\t\t});\r\n\t\treturn timeStr + ' ' + new Date(date).toLocaleDateString('en', options);\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger' duration={10}>\r\n\t\t\t{error}\r\n\t\t</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<h1>Order {orderID} </h1>\r\n\t\t\t<Row>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Name: </strong>\r\n\t\t\t\t\t\t\t\t\t\t{order.user.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.user.email}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Address: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.city}-\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDelivered at:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNot Delivered\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Method: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPaid at:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.paidAt)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNot Paid\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Cart Items</h2>\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.orderItems.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(item, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.price} ={' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.price\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>No order</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Subtotal</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377; {order.itemsPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Shipping</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377; {order.shippingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Tax</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>&#8377; {order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377; {order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.paymentMethod ===\r\n\t\t\t\t\t\t\t\t\t\t\t'PayPal' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!SDKReady ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape: 'rect',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'gold',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: 'vertical',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'pay',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency='USD'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tamount={Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t72\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccessPaymentHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Elements\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripe={stripePromise}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckoutForm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprice={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torderID={orderID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Elements>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <ListGroup.Item> */}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <StripeCheckout\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstripeKey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.REACT_APP_STRIPE_PUBLISHABLE_KEY\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency='INR'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoken={handleStripePayment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tamount={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice * 100\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tsuccessDeliveryHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPay With Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StripeCheckout> */}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Elements\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstripe={stripePromise}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckoutForm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprice={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torderID={orderID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Elements> */}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* </ListGroup.Item> */}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo &&\r\n\t\t\t\t\t\t\t\t\t\tuserInfo.isAdmin &&\r\n\t\t\t\t\t\t\t\t\t\torder.isPaid &&\r\n\t\t\t\t\t\t\t\t\t\t!order.isDelivered && (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccessDeliveryHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMark as Delivered\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, InputGroup, FloatingLabel } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { resetUserPassword } from '../actions/userActions';\r\n\r\nconst PasswordResetPage = ({ match, history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\tconst userResetPassword = useSelector((state) => state.userResetPassword);\r\n\tconst { loading, resetPassword, error } = userResetPassword;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst nameFromLocalStorage = localStorage.getItem('EcommerceUserName');\r\n\t\tif (nameFromLocalStorage) {\r\n\t\t\tsetName(nameFromLocalStorage);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (resetPassword) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push('/login');\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}, [history, resetPassword]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(resetUserPassword(match.params.token, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>{name ? `${name}, reset password` : 'Reset Password'}</h1>\r\n\t\t\t{message && (\r\n\t\t\t\t<Message duration={8} variant='warning'>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{resetPassword && (\r\n\t\t\t\t<Message variant='success' duration={8}>\r\n\t\t\t\t\tPassword Changed Successfully.\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : (\r\n\t\t\t\t<Form onSubmit={handleSubmit} style={{ width: '33em' }}>\r\n\t\t\t\t\t<Form.Group className='mb-2'>\r\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t}></Form.Control>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\r\n\t\t\t\t\t\t\t\t\t\theight: '78%',\r\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group className='my-2'>\r\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\tlabel='Confirm password'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\r\n\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t}></Form.Control>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\r\n\t\t\t\t\t\t\t\t\t\theight: '78%',\r\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash'></i>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PasswordResetPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { listAllUsers, deleteUser, refreshLogin } from '../actions/userActions';\r\n\r\nconst UserListPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userList = useSelector((state) => state.userList);\r\n\tconst { loading, users, error } = userList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDelete = useSelector((state) => state.userDelete);\r\n\tconst { success: successDelete } = userDelete;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllUsers());\r\n\t\telse history.push('/login');\r\n\t}, [dispatch, history, userInfo, successDelete]);\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tif (window.confirm('Are you sure you wanna delete user?'))\r\n\t\t\tdispatch(deleteUser(id));\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table\r\n\t\t\t\t\tstriped\r\n\t\t\t\t\tbordered\r\n\t\t\t\t\tresponsive\r\n\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>CONFIRMED</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users.map((user) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{user.isConfirmed ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserListPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, InputGroup } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport {\r\n\tgetUserDetails,\r\n\tupdateUser,\r\n\trefreshLogin,\r\n} from '../actions/userActions';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\nimport Meta from '../components/Meta';\r\n\r\nconst UserEditPage = ({ match, history }) => {\r\n\tconst userId = match.params.id;\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, user, error } = userDetails;\r\n\r\n\tconst userUpdate = useSelector((state) => state.userUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = userUpdate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/userlist');\r\n\t\t} else {\r\n\t\t\tif (!user || !user.name || user._id !== userId) {\r\n\t\t\t\tdispatch(getUserDetails(userId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [user, dispatch, userId, successUpdate, history]);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/userlist'>\r\n\t\t\t\t<Button variant='outline-primary' className='my-3'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t{user && <Meta title={`Edit ${user.name} | Kosells`} />}\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorUpdate ? (\r\n\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorUpdate}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group\r\n\t\t\t\t\t\t\t\t\tcontrolId='isAdmin'\r\n\t\t\t\t\t\t\t\t\tclassName='my-2'>\r\n\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Is Admin'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderRight: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsAdmin(e.target.checked)\r\n\t\t\t\t\t\t\t\t\t\t\t}></Form.Check>\r\n\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tvariant='dark'\r\n\t\t\t\t\t\t\t\t\tclassName='my-1'>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserEditPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {\r\n\tlistProducts,\r\n\tdeleteProduct,\r\n\tcreateProduct,\r\n} from '../actions/productActions';\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\r\nimport Paginate from '../components/Paginate';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst ProductListPage = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\tconst dispatch = useDispatch();\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { loading, products, error, pages, page } = productList;\r\n\r\n\tconst productDelete = useSelector((state) => state.productDelete);\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\tsuccess: successDelete,\r\n\t\terror: errorDelete,\r\n\t} = productDelete;\r\n\r\n\tconst productCreate = useSelector((state) => state.productCreate);\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\tsuccess: successCreate,\r\n\t\terror: errorCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo.isAdmin) history.push('/login');\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET });\r\n\t\tif (successCreate)\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\r\n\t\telse dispatch(listProducts('', pageNumber, 10)); // 3rd parameter is the no of products to be listed per page\r\n\t}, [\r\n\t\tdispatch,\r\n\t\thistory,\r\n\t\tuserInfo,\r\n\t\tsuccessDelete,\r\n\t\tsuccessCreate,\r\n\t\tcreatedProduct,\r\n\t\tpageNumber,\r\n\t]);\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tif (window.confirm('Are you sure you wanna delete this product?'))\r\n\t\t\tdispatch(deleteProduct(id));\r\n\t};\r\n\tconst handleCreateProduct = (product) => {\r\n\t\tdispatch(createProduct());\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='my-3'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={handleCreateProduct}>\r\n\t\t\t\t\t\t<i className='fas fa-plus'> </i> Create Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{errorDelete && (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{errorDelete}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{errorCreate && (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{errorCreate}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{loading || loadingCreate || loadingDelete ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products &&\r\n\t\t\t\t\t\t\t\tproducts.map((product) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#8377;\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct._id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListPage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, Image, FloatingLabel, Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { listProductDetails, updateProduct } from '../actions/productActions';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\r\nimport axios from 'axios';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nconst ProductEditPage = ({ match, history }) => {\r\n\tconst productId = match.params.id;\r\n\tconst [name, setName] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [image, setImage] = useState('');\r\n\tconst [price, setPrice] = useState(0.0);\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\tconst [uploading, setUploading] = useState(false);\r\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, product, error } = productDetails;\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t\terror: errorUpdate,\r\n\t} = productUpdate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProductDetails(productId));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/productlist');\r\n\t\t} else {\r\n\t\t\tif (!product || product._id !== productId) {\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [product, dispatch, productId, history, successUpdate]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tdispatch(listProductDetails(productId));\r\n\t// }, [product]);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tbrand,\r\n\t\t\t\tprice,\r\n\t\t\t\tcategory,\r\n\t\t\t\tdescription,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\timage,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst inputFile = useRef(null);\r\n\r\n\tconst handleImageClick = () => {\r\n\t\tinputFile.current.click();\r\n\t};\r\n\r\n\tconst handleFileUpload = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetErrorImageUpload('Please choose a valid image');\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist'>\r\n\t\t\t\t<Button variant='outline-primary' className='mt-3'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer style={{ marginTop: '-2em' }}>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorUpdate ? (\r\n\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorUpdate}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t\t\t{/* <Form.Label>Name</Form.Label> */}\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='priceinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Price'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter price'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tstep='0.1'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetPrice(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t{errorImageUpload && (\r\n\t\t\t\t\t\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{errorImageUpload}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{uploading ? (\r\n\t\t\t\t\t\t\t\t\t<div>Uploading...</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={9}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='imageinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImage(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={inputFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFileUpload}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='profile-page-image'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignSelf: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Click to input file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'0.25rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='image-overlay-product'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleImageClick\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tClick to upload image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='brandinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Brand'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBrand(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='categoryinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Category'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCategory(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='descinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Description'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter description URL'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDescription(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='countinstockinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='CountInStock'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Count In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCountInStock(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName='my-1 ms-auto'>\r\n\t\t\t\t\t\t\t\t\t\tUpdate Product\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductEditPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { refreshLogin } from '../actions/userActions';\r\nimport { listAllOrders } from '../actions/orderActions';\r\n\r\nconst ProductListPage = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\tconst dispatch = useDispatch();\r\n\tconst orderListAll = useSelector((state) => state.orderListAll);\r\n\tconst { loading, orders, error, page, pages } = orderListAll;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllOrders(pageNumber));\r\n\t\telse history.push('/login');\r\n\t}, [dispatch, history, userInfo, pageNumber]);\r\n\r\n\tconst getDateString = (date) => {\r\n\t\tconst options = {\r\n\t\t\tyear: 'numeric',\r\n\t\t\tmonth: 'short',\r\n\t\t\tday: 'numeric',\r\n\t\t};\r\n\t\tconst timeStr = new Date(date).toLocaleTimeString('en', {\r\n\t\t\ttimeStyle: 'short',\r\n\t\t\thour12: false,\r\n\t\t\ttimeZone: 'IST',\r\n\t\t});\r\n\t\treturn timeStr + ' ' + new Date(date).toLocaleDateString('en', options);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>ORDERS</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table\r\n\t\t\t\t\tstriped\r\n\t\t\t\t\tbordered\r\n\t\t\t\t\tresponsive\r\n\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders &&\r\n\t\t\t\t\t\t\torders.map((order) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>&#8377; {order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.createdAt)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.deliveredAt)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tView Details\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t\t<Paginate\r\n\t\t\t\tpages={pages}\r\n\t\t\t\tpage={page}\r\n\t\t\t\tisAdmin={true}\r\n\t\t\t\tforOrders={true}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListPage;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nimport HomePage from './pages/HomePage';\nimport ProductPage from './pages/ProductPage';\nimport CartPage from './pages/CartPage';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport ProfilePage from './pages/ProfilePage';\nimport ConfirmPage from './pages/ConfirmPage';\nimport ShippingPage from './pages/ShippingPage';\nimport PaymentPage from './pages/PaymentPage';\nimport PlaceOrderPage from './pages/PlaceOrderPage';\nimport OrderPage from './pages/OrderPage';\nimport PasswordResetPage from './pages/PasswordResetPage';\nimport UserListPage from './pages/UserListPage';\nimport UserEditPage from './pages/UserEditPage';\nimport ProductListPage from './pages/ProductListPage';\nimport ProductEditPage from './pages/ProductEditPage';\nimport OrderListPage from './pages/OrderListPage';\n\nconst App = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Header />\n\t\t\t<main className='py-2'>\n\t\t\t\t<Container>\n\t\t\t\t\t<Route path='/' component={HomePage} exact />\n\t\t\t\t\t<Route path='/search/:keyword' component={HomePage} exact />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/page/:pageNumber'\n\t\t\t\t\t\tcomponent={HomePage}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/search/:keyword/page/:pageNumber'\n\t\t\t\t\t\texact\n\t\t\t\t\t\tcomponent={HomePage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/login' component={LoginPage} />\n\t\t\t\t\t<Route path='/register' component={RegisterPage} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/user/password/reset/:token'\n\t\t\t\t\t\tcomponent={PasswordResetPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/profile' component={ProfilePage} />\n\t\t\t\t\t<Route path='/product/:id' component={ProductPage} />\n\t\t\t\t\t<Route path='/cart/:id?' component={CartPage} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/user/confirm/:token'\n\t\t\t\t\t\tcomponent={ConfirmPage}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/shipping' component={ShippingPage} />\n\t\t\t\t\t<Route path='/payment' component={PaymentPage} />\n\t\t\t\t\t<Route path='/placeorder' component={PlaceOrderPage} />\n\t\t\t\t\t<Route path='/order/:id' component={OrderPage} />\n\t\t\t\t\t<Route path='/admin/userlist' component={UserListPage} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/user/:id/edit'\n\t\t\t\t\t\tcomponent={UserEditPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/productlist'\n\t\t\t\t\t\texact\n\t\t\t\t\t\tcomponent={ProductListPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/productlist/:pageNumber'\n\t\t\t\t\t\tcomponent={ProductListPage}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/product/:id/edit'\n\t\t\t\t\t\tcomponent={ProductEditPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/orderlist'\n\t\t\t\t\t\tcomponent={OrderListPage}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/orderlist/:pageNumber'\n\t\t\t\t\t\tcomponent={OrderListPage}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer />\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductCreateReviewReducer,\r\n\tproductUpdateReducer,\r\n\tproductTopRatedReducer,\r\n} from './reducers/productReducers';\r\n\r\nimport { cartReducer } from './reducers/cartReducers';\r\n\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserLoginRefreshReducer,\r\n\tuserRegisterReducer,\r\n\tuserSendEmailVerficationReducer,\r\n\tuserConfirmReducer,\r\n\tuserResetPasswordReducer,\r\n\tuserDetailsReducer,\r\n\tuserProfileUpdateReducer,\r\n\tuserListReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers';\r\n\r\nimport {\r\n\torderCreateReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n\torderDeliverReducer,\r\n\torderListUserReducer,\r\n\torderListAllReducer,\r\n} from './reducers/orderReducers';\r\n\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductCreateReview: productCreateReviewReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserLoginRefresh: userLoginRefreshReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserSendEmailVerfication: userSendEmailVerficationReducer,\r\n\tuserConfirm: userConfirmReducer,\r\n\tuserResetPassword: userResetPasswordReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserProfileUpdate: userProfileUpdateReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderListUser: orderListUserReducer,\r\n\torderListAll: orderListAllReducer,\r\n});\r\n\r\nconst cartItemsFromLocalStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: [];\r\n\r\nconst userInfoFromLocalStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\nconst shippingAddressFromLocalStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {};\r\n\r\nconst tokenInfoFromLocalStoage = localStorage.getItem('refreshToken')\r\n\t? localStorage.getItem('refreshToken')\r\n\t: null;\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: [...cartItemsFromLocalStorage],\r\n\t\tshippingAddress: shippingAddressFromLocalStorage,\r\n\t},\r\n\tuserLogin: {\r\n\t\tuserInfo: userInfoFromLocalStorage,\r\n\t},\r\n\tuserLoginRefresh: {\r\n\t\ttokenInfo: tokenInfoFromLocalStoage,\r\n\t},\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAILURE,\r\n\tPRODUCT_DETAILS_FAILURE,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DELETE_FAILURE,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAILURE,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAILURE,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILURE,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_RATED_SUCCESS,\r\n\tPRODUCT_TOP_RATED_FAILURE,\r\n\tPRODUCT_TOP_RATED_REQUEST,\r\n} from '../constants/productConstants';\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t};\r\n\r\n\t\tcase PRODUCT_LIST_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\r\n\t\tdefault:\r\n\t\t\treturn { state };\r\n\t}\r\n};\r\n\r\nexport const productDetailsReducer = (\r\n\tstate = { product: { reviews: [] } },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_DELETE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productCreateReviewReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_RATED_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_TOP_RATED_SUCCESS:\r\n\t\t\treturn { loading: false, products: action.payload };\r\n\t\tcase PRODUCT_TOP_RATED_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_RESET,\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\r\n\t\t\t// check if the item exists in the cart\r\n\t\t\tconst existingItem = state.cartItems.find(\r\n\t\t\t\t(ele) => ele.product === item.product\r\n\t\t\t);\r\n\t\t\tif (existingItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((ele) =>\r\n\t\t\t\t\t\tele.product === existingItem.product ? item : ele\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter(\r\n\t\t\t\t\t(ele) => ele.product !== action.payload\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_RESET: {\r\n\t\t\treturn {\r\n\t\t\t\tcartItems: [],\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tUSER_LOGIN_FAILURE,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAILURE,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_RESET_PASSWORD_FAILURE,\r\n\tUSER_RESET_PASSWORD_SUCCESS,\r\n\tUSER_RESET_PASSWORD_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\r\n\tUSER_EMAIL_VERIFICATION_FAILURE,\r\n\tUSER_CONFIRM_REQUEST,\r\n\tUSER_CONFIRM_SUCCESS,\r\n\tUSER_CONFIRM_FAILURE,\r\n\tUSER_DETAILS_FAILURE,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_PROFILE_UPDATE_REQUEST,\r\n\tUSER_PROFILE_UPDATE_SUCCESS,\r\n\tUSER_PROFILE_UPDATE_FAILURE,\r\n\tUSER_PROFILE_UPDATE_RESET,\r\n\tUSER_LOGIN_REFRESH_REQUEST,\r\n\tUSER_LOGIN_REFRESH_SUCCESS,\r\n\tUSER_LOGIN_REFRESH_FAILURE,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILURE,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAILURE,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILURE,\r\n\tUSER_UPDATE_RESET,\r\n} from '../constants/userConstants';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userLoginRefreshReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REFRESH_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_LOGIN_REFRESH_SUCCESS:\r\n\t\t\treturn { loading: false, tokenInfo: action.payload };\r\n\t\tcase USER_LOGIN_REFRESH_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userSendEmailVerficationReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_EMAIL_VERIFICATION_REQUEST:\r\n\t\t\treturn { isLoading: true };\r\n\t\tcase USER_EMAIL_VERIFICATION_SUCCESS:\r\n\t\t\treturn { isLoading: true, emailSent: action.payload };\r\n\t\tcase USER_EMAIL_VERIFICATION_FAILURE:\r\n\t\t\treturn { isLoading: true, hasError: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userConfirmReducer = (state = { isConfirmed: false }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_CONFIRM_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_CONFIRM_SUCCESS:\r\n\t\t\treturn { loading: false, isConfirmed: action.payload };\r\n\t\tcase USER_CONFIRM_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userResetPasswordReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_RESET_PASSWORD_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_RESET_PASSWORD_SUCCESS:\r\n\t\t\treturn { loading: false, resetPassword: action.payload };\r\n\t\tcase USER_RESET_PASSWORD_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault: {\r\n\t\t\treturn { ...state };\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userProfileUpdateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_PROFILE_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_PROFILE_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_PROFILE_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_PROFILE_UPDATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, users: action.payload };\r\n\t\tcase USER_LIST_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_DELETE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAILURE,\r\n\tORDER_CREATE_RESET,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAILURE,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAILURE,\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAILURE,\r\n\tORDER_DELIVER_RESET,\r\n\tORDER_USER_LIST_REQUEST,\r\n\tORDER_USER_LIST_SUCCESS,\r\n\tORDER_USER_LIST_FAILURE,\r\n\tORDER_USER_LIST_RESET,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_ALL_LIST_FAILURE,\r\n} from '../constants/orderConstants';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const orderListUserReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_USER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_RESET:\r\n\t\t\treturn { orders: [] };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const orderListAllReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_ALL_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_ALL_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload.orders,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t};\r\n\t\tcase ORDER_ALL_LIST_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\nserviceWorkerRegistration.unregister();\n"],"sourceRoot":""}